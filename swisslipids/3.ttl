prefix ex: <https://sparql.swisslipids.org/.well-known/sparql-examples/> 
prefix up: <http://purl.uniprot.org/core/> 
prefix sh: <http://www.w3.org/ns/shacl#> 
prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix rdfs:<http://www.w3.org/2000/01/rdf-schema#> 
ex:3
    a sh:SPARQLSelectExecutable, sh:SPARQLExecutable ;
    sh:prefixes ex: ;
    rdfs:label "Published lipid structures for lipid analytes" ;
    rdfs:comment """For a given (list of) lipid Species identifiers, return a list of the corresponding Molecular subspecies (if any), Structural subspecies (if any), and Isomeric subspecies (level, ID, name) which are associated with at least one publication (PMID).
The query should return the lipid identifiers, recommended names, and PMIDs. 
The list should be sorted by level in the hierarchy (Isomeric subspecies last).
Future versions of this query should be generic enough to work from any start point (Species, Molecular subspecies, Structural subspecies).""" ;
    sh:select """SELECT 
	?id 
	?rank 
	?startId 
    ?startLabel
    ?citation
WHERE
{
  VALUES ?startId { SLM:000399814 SLM:000390097}
  ?id rdfs:subClassOf+ ?startId .
  ?id SLM:rank ?rank ;
	rdfs:label ?name ;
      SLM:citation ?citation .
  ?startId rdfs:label ?startLabel .
      
} ORDER BY DESC(?rank) ?startId""" .
